<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>CDPModule1</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="CDPModule1.Client.styles.css" rel="stylesheet" />

</head>

<body>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script type="text/javascript">


        //data click
        var data = [];
        function getText(current) {


            var text = current.innerHTML;
            //var Xposition = current.getAttribute('x');
            //var Yposition = current.getAttribute('y');
            //var GID = current.parentNode.getAttribute('id');

           

            var d = {
                TemplateName: $('#templateName').val(),
                FieldName: $('#Field').val(),
                ParentIdentifier: current.parentNode.getAttribute('id'),
                XPosition: current.getAttribute('x'),
                Yposition: current.getAttribute('y'),
                Text:text,
                Type: $('#valueType').val(),
            }

            $('#propText').val(text);

            data.push(d);

            console.log(data);


        }

        function insertData() {
            console.log('==> insertdata==>', data);

            $.ajax({
                url: 'api/File/SaveTemplate',
                contentType: 'application/json',
                data: JSON.stringify(data),
                method: 'POST',
                success: function (data) {
                    data = JSON.parse(data);
                }, error: function (error) {
                    console.log(error);
                }
            });
        }

        function typeChange(obj) {
            if (obj.value === "2") {
                document.getElementById("#static_type").style.display = "block";

                //$("static_type").css("display", "block",)
            }
        }

        function fieldTypeChange(obj) {
            if (obj.value === "Custom") {
                document.getElementById("#Field").style.display = "block";
                //$("Field").css("display", "!important")
            }
        }



    </script>
</body>

</html>
